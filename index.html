// --- 3. GESTION MENU (MOBILE + PC) ---
        // On attache la fonction à "window" pour qu'elle soit accessible par le bouton HTML
        window.toggleSidebar = function() {
            const sidebar = document.querySelector('.sidebar');
            const overlay = document.getElementById('mobile-overlay');
            const btnIcon = document.querySelector('#mobile-menu-btn i'); // Bouton Mobile (Vert)
            
            // DÉTECTION : SOMMES-NOUS SUR MOBILE ?
            if (window.innerWidth < 768) {
                // --- MODE MOBILE (TIROIR) ---
                sidebar.classList.toggle('mobile-open');
                
                if (sidebar.classList.contains('mobile-open')) {
                    // Si ouvert
                    if(overlay) overlay.style.display = 'block';
                    if(btnIcon) {
                        btnIcon.classList.remove('fa-bars');
                        btnIcon.classList.add('fa-times'); // Croix
                    }
                } else {
                    // Si fermé
                    if(overlay) overlay.style.display = 'none';
                    if(btnIcon) {
                        btnIcon.classList.remove('fa-times');
                        btnIcon.classList.add('fa-bars'); // Barres
                    }
                }
            } else {
                // --- MODE PC (RÉDUCTION) ---
                sidebar.classList.toggle('collapsed');
            }
        };

        // Fermeture automatique quand on clique sur un lien (Seulement sur mobile)
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', () => {
                if(window.innerWidth < 768) window.toggleSidebar();
            });
        });
